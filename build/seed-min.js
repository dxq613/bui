/*! BUI - v0.1.0 - 2013-11-18
* https://github.com/dxq613/bui
* Copyright (c) 2013 dxq613; Licensed MIT */
this.seajs={_seajs:this.seajs},seajs.version="1.3.0",seajs._util={},seajs._config={debug:"%DEBUG%",preload:[]},function(a){var b=Object.prototype.toString,c=Array.prototype;a.isString=function(a){return"[object String]"===b.call(a)},a.isFunction=function(a){return"[object Function]"===b.call(a)},a.isRegExp=function(a){return"[object RegExp]"===b.call(a)},a.isObject=function(a){return a===Object(a)},a.isArray=Array.isArray||function(a){return"[object Array]"===b.call(a)},a.indexOf=c.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1};var d=a.forEach=c.forEach?function(a,b){a.forEach(b)}:function(a,b){for(var c=0;c<a.length;c++)b(a[c],c,a)};a.map=c.map?function(a,b){return a.map(b)}:function(a,b){var c=[];return d(a,function(a,d,e){c.push(b(a,d,e))}),c},a.filter=c.filter?function(a,b){return a.filter(b)}:function(a,b){var c=[];return d(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c};var e=a.keys=Object.keys||function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};a.unique=function(a){var b={};return d(a,function(a){b[a]=1}),e(b)},a.now=Date.now||function(){return(new Date).getTime()}}(seajs._util),function(a){a.log=function(){if("undefined"!=typeof console){var a=Array.prototype.slice.call(arguments),b="log",c=a[a.length-1];if(console[c]&&(b=a.pop()),"log"!==b||seajs.debug){if(console[b].apply)return console[b].apply(console,a),void 0;var d=a.length;1===d?console[b](a[0]):2===d?console[b](a[0],a[1]):3===d?console[b](a[0],a[1],a[2]):console[b](a.join(" "))}}}}(seajs._util),function(a,b,c){function d(a){var b=a.match(p);return(b?b[0]:".")+"/"}function e(a){if(q.lastIndex=0,q.test(a)&&(a=a.replace(q,"$1/")),-1===a.indexOf("."))return a;for(var b,c=a.split("/"),d=[],e=0;e<c.length;e++)if(b=c[e],".."===b){if(0===d.length)throw new Error("The path is invalid: "+a);d.pop()}else"."!==b&&d.push(b);return d.join("/")}function f(a){a=e(a);var b=a.charAt(a.length-1);return"/"===b?a:("#"===b?a=a.slice(0,-1):-1!==a.indexOf("?")||r.test(a)||(a+=".js"),a.indexOf(":80/")>0&&(a=a.replace(":80/","/")),a)}function g(a){if("#"===a.charAt(0))return a.substring(1);var c=b.alias;if(c&&n(a)){var d=a.split("/"),e=d[0];c.hasOwnProperty(e)&&(d[0]=c[e],a=d.join("/"))}return a}function h(c){var f=b.map||[];if(!f.length)return c;for(var g=c,h=0;h<f.length;h++){var i=f[h];if(a.isArray(i)&&2===i.length){var j=i[0];(a.isString(j)&&g.indexOf(j)>-1||a.isRegExp(j)&&j.test(g))&&(g=g.replace(j,i[1]))}else a.isFunction(i)&&(g=i(g))}return k(g)||(g=e(d(v)+g)),g!==c&&(t[g]=c),g}function i(a){return t[a]||a}function j(a,c){if(!a)return"";a=g(a),c||(c=v);var e;return k(a)?e=a:l(a)?(0===a.indexOf("./")&&(a=a.substring(2)),e=d(c)+a):e=m(a)?c.match(s)[1]+a:b.base+"/"+a,f(e)}function k(a){return a.indexOf("://")>0||0===a.indexOf("//")}function l(a){return 0===a.indexOf("./")||0===a.indexOf("../")}function m(a){return"/"===a.charAt(0)&&"/"!==a.charAt(1)}function n(a){var b=a.charAt(0);return-1===a.indexOf("://")&&"."!==b&&"/"!==b}function o(a){return"/"!==a.charAt(0)&&(a="/"+a),a}var p=/.*(?=\/.*$)/,q=/([^:\/])\/\/+/g,r=/\.(?:css|js)$/,s=/^(.*?\w)(?:\/|$)/,t={},u=c.location,v=u.protocol+"//"+u.host+o(u.pathname);v.indexOf("\\")>0&&(v=v.replace(/\\/g,"/")),a.dirname=d,a.realpath=e,a.normalize=f,a.parseAlias=g,a.parseMap=h,a.unParseMap=i,a.id2Uri=j,a.isAbsolute=k,a.isRoot=m,a.isTopLevel=n,a.pageUri=v}(seajs._util,seajs._config,this),function(a,b){function c(a,b){"SCRIPT"===a.nodeName?d(a,b):e(a,b)}function d(a,c){a.onload=a.onerror=a.onreadystatechange=function(){n.test(a.readyState)&&(a.onload=a.onerror=a.onreadystatechange=null,a.parentNode&&!b.debug&&k.removeChild(a),a=void 0,c())}}function e(b,c){p||q?(a.log("Start poll to fetch css"),setTimeout(function(){f(b,c)},1)):b.onload=b.onerror=function(){b.onload=b.onerror=null,b=void 0,c()}}function f(a,b){var c;if(p)a.sheet&&(c=!0);else if(a.sheet)try{a.sheet.cssRules&&(c=!0)}catch(d){"NS_ERROR_DOM_SECURITY_ERR"===d.name&&(c=!0)}setTimeout(function(){c?b():f(a,b)},1)}function g(){}var h,i,j=document,k=j.head||j.getElementsByTagName("head")[0]||j.documentElement,l=k.getElementsByTagName("base")[0],m=/\.css(?:\?|$)/i,n=/loaded|complete|undefined/;a.fetch=function(b,d,e){var f=m.test(b),i=document.createElement(f?"link":"script");if(e){var j=a.isFunction(e)?e(b):e;j&&(i.charset=j)}c(i,d||g),f?(i.rel="stylesheet",i.href=b):(i.async="async",i.src=b),h=i,l?k.insertBefore(i,l):k.appendChild(i),h=null},a.getCurrentScript=function(){if(h)return h;if(i&&"interactive"===i.readyState)return i;for(var a=k.getElementsByTagName("script"),b=0;b<a.length;b++){var c=a[b];if("interactive"===c.readyState)return i=c,c}},a.getScriptAbsoluteSrc=function(a){return a.hasAttribute?a.src:a.getAttribute("src",4)},a.importStyle=function(a,b){if(!b||!j.getElementById(b)){var c=j.createElement("style");b&&(c.id=b),k.appendChild(c),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(j.createTextNode(a))}};var o=navigator.userAgent,p=Number(o.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"))<536,q=o.indexOf("Firefox")>0&&!("onload"in document.createElement("link"))}(seajs._util,seajs._config,this),function(a){function b(a){return a.replace(/^\s*\/\*[\s\S]*?\*\/\s*$/gm,"").replace(/^\s*\/\/.*$/gm,"")}var c=/(?:^|[^.$])\brequire\s*\(\s*(["'])([^"'\s\)]+)\1\s*\)/g;a.parseDependencies=function(d){var e,f=[];for(d=b(d),c.lastIndex=0;e=c.exec(d);)e[2]&&f.push(e[2]);return a.unique(f)}}(seajs._util),function(a,b,c){function d(a,b){this.uri=a,this.status=b||0}function e(a,c){return b.isString(a)?d._resolve(a,c):b.map(a,function(a){return e(a,c)})}function f(a,e){var f=b.parseMap(a);return u[f]?(p[a]=p[f],e(),void 0):t[f]?(v[f].push(e),void 0):(t[f]=!0,v[f]=[e],d._fetch(f,function(){u[f]=!0;var c=p[a];c.status===s.FETCHING&&(c.status=s.FETCHED),w&&(d._save(a,w),w=null),x&&c.status===s.FETCHED&&(p[a]=x,x.realUri=a),x=null,t[f]&&delete t[f];var e=v[f];e&&(delete v[f],b.forEach(e,function(a){a()}))},c.charset),void 0)}function g(a,c){var f=p[a]||(p[a]=new d(a));return f.status<s.SAVED&&(f.id=c.id||a,f.dependencies=e(b.filter(c.dependencies||[],function(a){return!!a}),a),f.factory=c.factory,f.status=s.SAVED),f}function h(a,b){var c=a(b.require,b.exports,b);void 0!==c&&(b.exports=c)}function i(a){return!!q[a.realUri||a.uri]}function j(a){var c=a.realUri||a.uri,d=q[c];d&&(b.forEach(d,function(b){h(b,a)}),delete q[c])}function k(a){var c=a.uri;return b.filter(a.dependencies,function(a){y=[c];var b=l(p[a]);return b&&(y.push(c),m(y)),!b})}function l(a){if(!a||a.status!==s.SAVED)return!1;y.push(a.uri);var b=a.dependencies;if(b.length){if(n(b,y))return!0;for(var c=0;c<b.length;c++)if(l(p[b[c]]))return!0}return y.pop(),!1}function m(a,c){b.log("Found circular dependencies:",a.join(" --> "),c)}function n(a,c){var d=a.concat(c);return d.length>b.unique(d).length}function o(a){var b=c.preload.slice();c.preload=[],b.length?z._use(b,a):a()}var p={},q={},r=[],s={FETCHING:1,FETCHED:2,SAVED:3,READY:4,COMPILING:5,COMPILED:6};d.prototype._use=function(a,c){b.isString(a)&&(a=[a]);var d=e(a,this.uri);this._load(d,function(){o(function(){var a=b.map(d,function(a){return a?p[a]._compile():null});c&&c.apply(null,a)})})},d.prototype._load=function(a,c){function e(a){(a||{}).status<s.READY&&(a.status=s.READY),0===--i&&c()}var g=b.filter(a,function(a){return a&&(!p[a]||p[a].status<s.READY)}),h=g.length;if(0===h)return c(),void 0;for(var i=h,j=0;h>j;j++)!function(a){function b(){if(c=p[a],c.status>=s.SAVED){var b=k(c);b.length?d.prototype._load(b,function(){e(c)}):e(c)}else e()}var c=p[a]||(p[a]=new d(a,s.FETCHING));c.status>=s.FETCHED?b():f(a,b)}(g[j])},d.prototype._compile=function(){function a(a){var b=e(a,c.uri),d=p[b];return d?d.status===s.COMPILING?d.exports:(d.parent=c,d._compile()):null}var c=this;if(c.status===s.COMPILED)return c.exports;if(c.status<s.SAVED&&!i(c))return null;c.status=s.COMPILING,a.async=function(a,b){c._use(a,b)},a.resolve=function(a){return e(a,c.uri)},a.cache=p,c.require=a,c.exports={};var d=c.factory;return b.isFunction(d)?(r.push(c),h(d,c),r.pop()):void 0!==d&&(c.exports=d),c.status=s.COMPILED,j(c),c.exports},d._define=function(a,c,f){var g=arguments.length;1===g?(f=a,a=void 0):2===g&&(f=c,c=void 0,b.isArray(a)&&(c=a,a=void 0)),!b.isArray(c)&&b.isFunction(f)&&(c=b.parseDependencies(f.toString()));var h,i={id:a,dependencies:c,factory:f};if(document.attachEvent){var j=b.getCurrentScript();j&&(h=b.unParseMap(b.getScriptAbsoluteSrc(j))),h||b.log("Failed to derive URI from interactive script for:",f.toString(),"warn")}var k=a?e(a):h;if(k){if(k===h){var l=p[h];l&&l.realUri&&l.status===s.SAVED&&(p[h]=null)}var m=d._save(k,i);h?(p[h]||{}).status===s.FETCHING&&(p[h]=m,m.realUri=h):x||(x=m)}else w=i},d._getCompilingModule=function(){return r[r.length-1]},d._find=function(a){var c=[];return b.forEach(b.keys(p),function(d){if(b.isString(a)&&d.indexOf(a)>-1||b.isRegExp(a)&&a.test(d)){var e=p[d];e.exports&&c.push(e.exports)}}),c},d._modify=function(b,c){var d=e(b),f=p[d];return f&&f.status===s.COMPILED?h(c,f):(q[d]||(q[d]=[]),q[d].push(c)),a},d.STATUS=s,d._resolve=b.id2Uri,d._fetch=b.fetch,d._save=g;var t={},u={},v={},w=null,x=null,y=[],z=new d(b.pageUri,s.COMPILED);a.use=function(b,c){return o(function(){z._use(b,c)}),a},a.define=d._define,a.cache=d.cache=p,a.find=d._find,a.modify=d._modify,d.fetchedList=u,a.pluginSDK={Module:d,util:b,config:c}}(seajs,seajs._util,seajs._config),function(a,b,c){function d(){c.debug&&(a.debug=!!c.debug)}function e(a){if(-1===a.indexOf("??"))return a;var c=a.split("??"),d=c[0],e=b.filter(c[1].split(","),function(a){return-1!==a.indexOf("sea.js")});return d+e[0]}function f(a,c,d){a&&a!==c&&b.log("The alias config is conflicted:","key =",'"'+d+'"',"previous =",'"'+a+'"',"current =",'"'+c+'"',"warn")}var g="seajs-ts=",h=g+b.now(),i=document.getElementById("seajsnode");if(!i){var j=document.getElementsByTagName("script");i=j[j.length-1]}var k=i&&b.getScriptAbsoluteSrc(i)||b.pageUri,l=b.dirname(e(k));b.loaderDir=l;var m=l.match(/^(.+\/)seajs\/[\.\d]+(?:-dev)?\/$/);m&&(l=m[1]),c.base=l,c.main=i&&i.getAttribute("data-main"),c.charset="utf-8",a.config=function(e){for(var i in e)if(e.hasOwnProperty(i)){var j=c[i],k=e[i];if(j&&"alias"===i){for(var l in k)if(k.hasOwnProperty(l)){var m=j[l],n=k[l];/^\d+\.\d+\.\d+$/.test(n)&&(n=l+"/"+n+"/"+l),f(m,n,l),j[l]=n}}else!j||"map"!==i&&"preload"!==i?c[i]=k:(b.isString(k)&&(k=[k]),b.forEach(k,function(a){a&&j.push(a)}))}var o=c.base;return o&&!b.isAbsolute(o)&&(c.base=b.id2Uri((b.isRoot(o)?"":"./")+o+"/")),2===c.debug&&(c.debug=1,a.config({map:[[/^.*$/,function(a){return-1===a.indexOf(g)&&(a+=(-1===a.indexOf("?")?"?":"&")+h),a}]]})),d(),this},d()}(seajs,seajs._util,seajs._config),function(a,b,c){function d(){var a=[],d=c.location.search;return d=d.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),d+=" "+document.cookie,d.replace(/seajs-(\w+)=[1-9]/g,function(b,c){a.push(c)}),b.unique(a)}a.log=b.log,a.importStyle=b.importStyle,a.config({alias:{seajs:b.loaderDir}}),b.forEach(d(),function(b){a.use("seajs/plugin-"+b),"debug"===b&&(a._use=a.use,a._useArgs=[],a.use=function(){return a._useArgs.push(arguments),a})})}(seajs,seajs._util,this),function(a,b,c){var d=a._seajs;return d&&!d.args?(c.seajs=a._seajs,void 0):(c.define=a.define,b.main&&a.use(b.main),function(b){if(b)for(var c={0:"config",1:"use",2:"define"},d=0;d<b.length;d+=2)a[c[b[d]]].apply(a,b[d+1])}((d||0).args),c.define.cmd={},delete a.define,delete a._util,delete a._config,delete a._seajs,void 0)}(seajs,seajs._config,this);var loaderPath=seajs.pluginSDK.util.loaderDir;seajs.config({map:[[/.js$/,"-min.js"]],alias:{bui:loaderPath},charset:"utf-8"});var BUI=BUI||{};BUI.use=seajs.use,BUI.config=seajs.config,BUI.setDebug=function(a){BUI.debug=a,a?seajs.config({map:[["-min.js",".js"]]}):seajs.config({map:[[/.js$/,"-min.js"]]})},define("bui/common",["bui/ua","bui/json","bui/date","bui/array","bui/keycode","bui/observable","bui/base","bui/component"],function(a){var b=a("bui/util");return b.mix(b,{UA:a("bui/ua"),JSON:a("bui/json"),Date:a("bui/date"),Array:a("bui/array"),KeyCode:a("bui/keycode"),Observable:a("bui/observable"),Base:a("bui/base"),Component:a("bui/component")}),b});var BUI=BUI||{};!BUI.use&&seajs&&(BUI.use=seajs.use,BUI.config=seajs.config),define("bui/util",function(){function a(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=a[d]||{},b(a[d],c[d]))}function b(a,b){for(var c in b)b.hasOwnProperty(c)&&("value"==c?BUI.isObject(b[c])?(a[c]=a[c]||{},BUI.mix(a[c],b[c])):BUI.isArray(b[c])?(a[c]=a[c]||[],BUI.mix(a[c],b[c])):a[c]=b[c]:a[c]=b[c])}!function(a){a.fn&&(a.fn.on=a.fn.on||a.fn.bind,a.fn.off=a.fn.off||a.fn.unbind)}(jQuery);var c=window,d=Object.prototype,e=d.toString,f="ATTRS",g="PARSER",h="guid";$.extend(BUI,{version:1,subVersion:2,isFunction:function(a){return"function"==typeof a},isArray:"isArray"in Array?Array.isArray:function(a){return"[object Array]"===e.call(a)},isDate:function(a){return"[object Date]"===e.call(a)},isObject:"[object Object]"===e.call(null)?function(a){return null!==a&&void 0!==a&&"[object Object]"===e.call(a)&&void 0===a.ownerDocument}:function(a){return"[object Object]"===e.call(a)},augment:function(a){if(!BUI.isFunction(a))return a;for(var b=1;b<arguments.length;b++)BUI.mix(a.prototype,arguments[b].prototype||arguments[b]);return a},cloneObject:function(a){var b=BUI.isArray(a)?[]:{};return BUI.mix(!0,b,a)},error:function(a){if(BUI.debug)throw a},extend:function(a,b,c,d){BUI.isFunction(b)||(c=b,b=a,a=function(){});var e=Object.create?function(a,b){return Object.create(a,{constructor:{value:b}})}:function(a,b){function c(){}c.prototype=a;var d=new c;return d.constructor=b,d},f=e(b.prototype,a);return a.prototype=BUI.mix(f,a.prototype),a.superclass=e(b.prototype,b),BUI.mix(f,c),BUI.mix(a,d),a},guid:function(){var a={};return function(b){return b=b||BUI.prefix+h,a[b]?a[b]+=1:a[b]=1,b+a[b]}}(),isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},log:function(a){BUI.debug&&c.console&&c.console.log&&c.console.log(a)},merge:function(){var a=$.makeArray(arguments);return a.unshift({}),BUI.mix.apply(null,a)},mix:function(){return $.extend.apply(null,arguments)},app:function(a){return window[a]||(window[a]={namespace:function(b){return BUI.namespace(b,window[a])}}),window[a]},mixin:function(b,c,d){d=d||[f,g];var e=c;if(e){b.mixins=e;var h={},i=e.concat(b);BUI.each(i,function(b){b&&BUI.each(d,function(c){b[c]&&(h[c]=h[c]||{},"ATTRS"==c?a(h[c],b[c]):BUI.mix(h[c],b[c]))})}),BUI.each(h,function(a,c){b[c]=a});var j={};BUI.each(i,function(a){if(a){var b=a.prototype;for(var c in b)b.hasOwnProperty(c)&&(j[c]=b[c])}}),BUI.each(j,function(a,c){b.prototype[c]=a})}return b},namespace:function(a,b){if(b=b||BUI,!a)return b;for(var c=a.split("."),d=b,e=0;e<c.length;e++){var f=c[e];d[f]||(d[f]={}),d=d[f]}return d},prefix:"bui-",substitute:function(a,b,c){return BUI.isString(a)&&(BUI.isObject(b)||BUI.isArray(b))?a.replace(c||/\\?\{([^{}]+)\}/g,function(a,c){return"\\"===a.charAt(0)?a.slice(1):void 0===b[c]?"":b[c]}):a},ucfirst:function(a){return a+="",a.charAt(0).toUpperCase()+a.substring(1)},isInView:function(a){var b=a.left,c=a.top,d=BUI.viewportWidth(),e=BUI.viewportHeight(),f=BUI.scrollTop(),g=BUI.scrollLeft();return g>b||b>g+d?!1:f>c||c>f+e?!1:!0},isInVerticalView:function(a){var b=BUI.viewportHeight(),c=BUI.scrollTop();return c>a||a>c+b?!1:!0},isInHorizontalView:function(a){var b=BUI.viewportWidth(),c=BUI.scrollLeft();return c>a||a>c+b?!1:!0},viewportWidth:function(){return $(window).width()},viewportHeight:function(){return $(window).height()},scrollLeft:function(){return $(window).scrollLeft()},scrollTop:function(){return $(window).scrollTop()},docWidth:function(){var a=document.documentElement||document.body;return $(a).width()},docHeight:function(){var a=document.documentElement||document.body;return $(a).height()},each:function(a,b){a&&$.each(a,function(a,c){return b(c,a)})},wrapBehavior:function(a,b){return a["__bui_wrap_"+b]=function(c){a.get("disabled")||a[b](c)}},getWrapBehavior:function(a,b){return a["__bui_wrap_"+b]}});var i=BUI.FormHelper={serializeToObject:function(a){var b=$(a).serializeArray(),c={};return BUI.each(b,function(a){var b=a.name;c[b]?(BUI.isArray(c[b])||(c[b]=[c[b]]),c[b].push(a.value)):c[b]=a.value}),c},setFields:function(a,b){for(var c in b)b.hasOwnProperty(c)&&BUI.FormHelper.setField(a,c,b[c])},clear:function(a){var b=$.makeArray(a.elements);BUI.each(b,function(a){"checkbox"===a.type||"radio"===a.type?$(a).attr("checked",!1):$(a).val(""),$(a).change()})},setField:function(a,b,c){var d=a.elements[b];d&&d.type?i._setFieldValue(d,c):(BUI.isArray(d)||d&&d.length)&&BUI.each(d,function(a){i._setFieldValue(a,c)})},_setFieldValue:function(a,b){"checkbox"===a.type?a.value==""+b||BUI.isArray(b)&&-1!==BUI.Array.indexOf(a.value,b)?$(a).attr("checked",!0):$(a).attr("checked",!1):"radio"===a.type?a.value==""+b?$(a).attr("checked",!0):$(a).attr("checked",!1):$(a).val(b)},getField:function(a,b){return BUI.FormHelper.serializeToObject(a)[b]}};return BUI}),define("bui/array",["bui/util"],function(a){var b=a("bui/util");return b.Array={peek:function(a){return a[a.length-1]},indexOf:function(a,b,c){for(var d=null==c?0:0>c?Math.max(0,b.length+c):c,e=d;e<b.length;e++)if(e in b&&b[e]===a)return e;return-1},contains:function(a,c){return b.Array.indexOf(a,c)>=0},each:b.each,equals:function(a,b){if(a==b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=!0,d=0;d<a.length;d++)if(a[d]!==b[d]){c=!1;break}return c},filter:function(a,c){var d=[];return b.Array.each(a,function(a,b){c(a,b)&&d.push(a)}),d},map:function(a,c){var d=[];return b.Array.each(a,function(a,b){d.push(c(a,b))}),d},find:function(a,c){var d=b.Array.findIndex(a,c);return 0>d?null:a[d]},findIndex:function(a,c){var d=-1;return b.Array.each(a,function(a,b){return c(a,b)?(d=b,!1):void 0}),d},isEmpty:function(a){return 0==a.length},add:function(a,b){a.push(b)},addAt:function(a,c,d){b.Array.splice(a,d,0,c)},empty:function(a){if(!(a instanceof Array))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0},remove:function(a,c){var d,e=b.Array.indexOf(c,a);return(d=e>=0)&&b.Array.removeAt(a,e),d},removeAt:function(a,c){return 1==b.Array.splice(a,c,1).length},slice:function(a,b,c){return arguments.length<=2?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},splice:function(a){return Array.prototype.splice.apply(a,b.Array.slice(arguments,1))}},b.Array}),define("bui/observable",["bui/util"],function(a){function b(){return new d}var c=a("bui/util"),d=function(){this._init()};c.augment(d,{_functions:null,_init:function(){var a=this;a._functions=[]},add:function(a){this._functions.push(a)},remove:function(a){var b=this._functions;index=c.Array.indexOf(a,b),index>=0&&b.splice(index,1)},empty:function(){var a=this._functions.length;this._functions.splice(0,a)},fireWith:function(a,b){var d,e=this;return c.each(e._functions,function(c){return d=c.apply(a,b),d===!1?!1:void 0}),d}});var e=function(a){this._events=[],this._eventMap={},this._bubblesEvents=[],this._initEvents(a)};return c.augment(e,{_events:[],_eventMap:{},_bubblesEvents:[],_bubbleTarget:null,_getCallbacks:function(a){var b=this,c=b._eventMap;return c[a]},_initEvents:function(a){var b=this,c=null;if(a&&(c=a.listeners||{},a.handler&&(c.click=a.handler),c))for(var d in c)c.hasOwnProperty(d)&&b.on(d,c[d])},_isBubbles:function(a){return c.Array.indexOf(a,this._bubblesEvents)>=0},addTarget:function(a){this._bubbleTarget=a},addEvents:function(a){function d(a){-1===c.Array.indexOf(a,f)&&(g[a]=b(),f.push(a))}var e=this,f=e._events,g=e._eventMap;c.isArray(a)?$.each(a,function(a,b){d(b)}):d(a)},clearListeners:function(){var a=this,b=a._eventMap;for(var c in b)b.hasOwnProperty(c)&&b[c].empty()},fire:function(a,b){var c,d=this,e=d._getCallbacks(a),f=$.makeArray(arguments);if(b||(b={},f.push(b)),b.target||(b.target=d),e&&(c=e.fireWith(d,Array.prototype.slice.call(f,1))),d._isBubbles(a)){var g=d._bubbleTarget;g&&g.fire&&g.fire(a,b)}return c},on:function(a,b){var d=a.split(" "),e=this,f=null;return d.length>1?c.each(d,function(a){e.on(a,b)}):(f=e._getCallbacks(a),f?f.add(b):(e.addEvents(a),e.on(a,b))),e},off:function(a,b){if(!a&&!b)return this.clearListeners(),this;var c=this,d=c._getCallbacks(a);return d&&d.remove(b),c},publish:function(a,b){var d=this,e=d._bubblesEvents;if(b.bubbles)-1===c.Array.indexOf(a,e)&&e.push(a);else{var f=c.Array.indexOf(a,e);-1!==f&&e.splice(f,1)}}}),e}),define("bui/ua",function(){function a(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 0===b++?".":""}))}function b(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c={browser:b[1]||"",version:b[2]||"0"},d={};return c.browser&&(d[c.browser]=!0,d.version=c.version),d.chrome?d.webkit=!0:d.webkit&&(d.safari=!0),d}var c=$.UA||function(){var c=$.browser||b(navigator.userAgent),d=a(c.version),e={ie:c.msie&&d,webkit:c.webkit&&d,opera:c.opera&&d,mozilla:c.mozilla&&d};return e}();return c}),define("bui/json",["bui/ua"],function(a){function b(a){return 10>a?"0"+a:a}function c(a){return l.lastIndex=0,l.test(a)?'"'+a.replace(l,function(a){var b=m[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,b){var e,f,g,h,l,m=i,n=b[a];switch(n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(a)),"function"==typeof k&&(n=k.call(b,a,n)),typeof n){case"string":return c(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n)return"null";if(i+=j,l=[],"[object Array]"===Object.prototype.toString.apply(n)){for(h=n.length,e=0;h>e;e+=1)l[e]=d(e,n)||"null";return g=0===l.length?"[]":i?"[\n"+i+l.join(",\n"+i)+"\n"+m+"]":"["+l.join(",")+"]",i=m,g}if(k&&"object"==typeof k)for(h=k.length,e=0;h>e;e+=1)f=k[e],"string"==typeof f&&(g=d(f,n),g&&l.push(c(f)+(i?": ":":")+g));else for(f in n)Object.hasOwnProperty.call(n,f)&&(g=d(f,n),g&&l.push(c(f)+(i?": ":":")+g));return g=0===l.length?"{}":i?"{\n"+i+l.join(",\n"+i)+"\n"+m+"}":"{"+l.join(",")+"}",i=m,g}}function e(a){try{return new Function("return "+a+";")()}catch(b){throw"Json parse error!"}}var f=window,g=a("bui/ua"),h=f.JSON;(!h||g.ie<9)&&(h=f.JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var i,j,k,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof h.stringify&&(h.stringify=function(a,b,c){var e;if(i="",j="","number"==typeof c)for(e=0;c>e;e+=1)j+=" ";else"string"==typeof c&&(j=c);if(k=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return d("",{"":a})});var h={parse:$.parseJSON,looseParse:e,stringify:h.stringify};return h}),define("bui/keycode",function(){var a={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};return a}),define("bui/date",function(){function a(b,c){if(b instanceof Date)return b;if("undefined"==typeof c||null==c||""==c){for(var d=new Array("y-m-d","yyyy-mm-dd","yyyy-mm-dd HH:MM:ss","H:M:s"),e=0;e<d.length;e++){var f=a(b,d[e]);if(null!=f)return f}return null}b+="";var g,h,i=0,j=0,k="",l="",m=new Date,n=m.getYear(),o=m.getMonth()+1,p=1,q=0,r=0,s=0;for(this.isInteger=function(a){return/^\d*$/.test(a)},this.getInt=function(a,b,c,d){for(var e=d;e>=c;e--){var f=a.substring(b,b+e);if(f.length<c)return null;if(this.isInteger(f))return f}return null};j<c.length;){for(k=c.charAt(j),l="";c.charAt(j)==k&&j<c.length;)l+=c.charAt(j++);if("yyyy"==l||"yy"==l||"y"==l){if("yyyy"==l&&(g=4,h=4),"yy"==l&&(g=2,h=2),"y"==l&&(g=2,h=4),n=this.getInt(b,i,g,h),null==n)return null;i+=n.length,2==n.length&&(n=n>70?1900+(n-0):2e3+(n-0))}else if("mm"==l||"m"==l){if(o=this.getInt(b,i,l.length,2),null==o||1>o||o>12)return null;i+=o.length}else if("dd"==l||"d"==l){if(p=this.getInt(b,i,l.length,2),null==p||1>p||p>31)return null;i+=p.length}else if("hh"==l||"h"==l){if(q=this.getInt(b,i,l.length,2),null==q||1>q||q>12)return null;i+=q.length}else if("HH"==l||"H"==l){if(q=this.getInt(b,i,l.length,2),null==q||0>q||q>23)return null;i+=q.length}else if("MM"==l||"M"==l){if(r=this.getInt(b,i,l.length,2),null==r||0>r||r>59)return null;i+=r.length}else if("ss"==l||"s"==l){if(s=this.getInt(b,i,l.length,2),null==s||0>s||s>59)return null;i+=s.length}else{if(b.substring(i,i+l.length)!=l)return null;i+=l.length}}if(i!=b.length)return null;if(2==o)if(0==n%4&&0!=n%100||0==n%400){if(p>29)return null}else if(p>28)return null;return(4==o||6==o||9==o||11==o)&&p>30?null:new Date(n,o-1,p,q,r,s)}function b(a,b,c){var d=new Date(c);switch(isNaN(d)&&(d=new Date),b=parseInt(b,10),a){case"s":d=new Date(d.getTime()+1e3*b);break;case"n":d=new Date(d.getTime()+6e4*b);break;case"h":d=new Date(d.getTime()+36e5*b);break;case"d":d=new Date(d.getTime()+864e5*b);break;case"w":d=new Date(d.getTime()+6048e5*b);break;case"m":d=new Date(d.getFullYear(),d.getMonth()+b,d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds());break;case"y":d=new Date(d.getFullYear()+b,d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds())}return d}var c=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,d=function(){var a=/w{1}|d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a},e={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUTCDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",localShortDate:"yy\u5e74mm\u6708dd\u65e5",localShortDateTime:"yy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localLongDate:"yyyy\u5e74mm\u6708dd\u65e5",localLongDateTime:"yyyy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localFullDate:"yyyy\u5e74mm\u6708dd\u65e5 w",localFullDateTime:"yyyy\u5e74mm\u6708dd\u65e5 w hh:MM:ss TT"},f={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};return function(g,h,i){if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(g)||/\d/.test(g)||(h=g,g=void 0),g=g?new Date(g):new Date,isNaN(g))throw SyntaxError("invalid date");h=String(e[h]||h||e["default"]),"UTC:"===h.slice(0,4)&&(h=h.slice(4),i=!0);var j=i?"getUTC":"get",k=g[j+"Date"](),l=g[j+"Day"](),m=g[j+"Month"](),n=g[j+"FullYear"](),o=g[j+"Hours"](),p=g[j+"Minutes"](),q=g[j+"Seconds"](),r=g[j+"Milliseconds"](),s=i?0:g.getTimezoneOffset(),t={d:k,dd:d(k,void 0),ddd:f.dayNames[l],dddd:f.dayNames[l+7],w:f.dayNames[l+14],m:m+1,mm:d(m+1,void 0),mmm:f.monthNames[m],mmmm:f.monthNames[m+12],yy:String(n).slice(2),yyyy:n,h:o%12||12,hh:d(o%12||12,void 0),H:o,HH:d(o,void 0),M:p,MM:d(p,void 0),s:q,ss:d(q,void 0),l:d(r,3),L:d(r>99?Math.round(r/10):r,void 0),t:12>o?"a":"p",tt:12>o?"am":"pm",T:12>o?"A":"P",TT:12>o?"AM":"PM",Z:i?"UTC":(String(g).match(b)||[""]).pop().replace(c,""),o:(s>0?"-":"+")+d(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60,4),S:["th","st","nd","rd"][k%10>3?0:(10!==k%100-k%10)*k%10]};return h.replace(a,function(a){return a in t?t[a]:a.slice(1,a.length-1)})}}(),e={add:function(a,c,d){return b(a,c,d)},addHour:function(a,c){return b("h",a,c)},addMinute:function(a,c){return b("n",a,c)},addSecond:function(a,c){return b("s",a,c)},addDay:function(a,c){return b("d",a,c)},addWeek:function(a,c){return b("w",a,c)},addMonths:function(a,c){return b("m",a,c)},addYear:function(a,c){return b("y",a,c)},isDateEquals:function(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()},isEquals:function(a,b){return a==b?!0:a&&b?a.getTime&&b.getTime?a.getTime()==b.getTime():!1:!1},isDateString:function(a){return c.test(a)},format:function(a,b,c){return d(a,b,c)},parse:function(b,c){return a(b,c)},today:function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate())},getDate:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())}};return e}),define("bui/base",["bui/observable"],function(a){function b(a,b,c){var d=a[b]||{};return c&&(a[b]=d),d}function c(a,b){return BUI.isString(b)?a[b]:b}function d(a,b,c,d,e){var f=c;return a.fire(b+BUI.ucfirst(c)+"Change",{attrName:f,prevVal:d,newVal:e})}function e(a,b,c,e){e=e||{};var f,g;return g=a.get(b),$.isPlainObject(c)||BUI.isArray(c)||g!==c?e.silent||!1!==d(a,"before",b,g,c)?(f=a._set(b,c,e),f===!1?f:(e.silent||(c=a.__attrVals[b],d(a,"after",b,g,c)),a)):!1:void 0}var f={},g=a("bui/observable"),h=function(a){var b=this,c=b.constructor,d=[];for(this.__attrs={},this.__attrVals={},g.apply(this,arguments);c;)d.push(c),c.extensions&&(BUI.mixin(c,c.extensions),delete c.extensions),c=c.superclass?c.superclass.constructor:null;for(var e=d.length-1;e>=0;e--)b.addAttrs(d[e].ATTRS,!0);b._initAttrs(a)};return h.INVALID=f,BUI.extend(h,g),BUI.augment(h,{addAttr:function(a,b){var c=this,d=c.__attrs,e=d[a];e||(e=d[a]={});for(var f in b)b.hasOwnProperty(f)&&("value"==f?BUI.isObject(b[f])?(e[f]=e[f]||{},BUI.mix(e[f],b[f])):BUI.isArray(b[f])?(e[f]=e[f]||[],BUI.mix(e[f],b[f])):e[f]=b[f]:e[f]=b[f]);return c},addAttrs:function(a,b,c){var d=this;return a?("boolean"==typeof b&&(c=b,b=null),BUI.each(a,function(a,b){d.addAttr(b,a,c)}),b&&d.set(b),d):d},hasAttr:function(a){return a&&this.__attrs.hasOwnProperty(a)},getAttrs:function(){return this.__attrs},getAttrVals:function(){return this.__attrVals},get:function(a){var d,e,f,g=this,h=g.__attrVals;return d=b(g.__attrs,a),e=d.getter,f=a in h?h[a]:g._getDefAttrVal(a),e&&(e=c(g,e))&&(f=e.call(g,f,a)),f},clearAttrVals:function(){this.__attrVals={}},removeAttr:function(a){var b=this;return b.hasAttr(a)&&(delete b.__attrs[a],delete b.__attrVals[a]),b},set:function(a,b,c){var d=this;if($.isPlainObject(a)){c=b;var f=Object(a);for(a in f)f.hasOwnProperty(a)&&e(d,a,f[a],c);return d}return e(d,a,b,c)},setInternal:function(a,b,c){return this._set(a,b,c)},_getDefAttrVal:function(a){var d,e=this,f=e.__attrs,g=b(f,a),h=g.valueFn;return h&&(h=c(e,h))&&(d=h.call(e),void 0!==d&&(g.value=d),delete g.valueFn,f[a]=g),g.value},_set:function(a,d){var e,g=this,h=b(g.__attrs,a,!0),i=h.setter;return i&&(i=c(g,i))&&(e=i.call(g,d,a)),e===f?!1:(void 0!==e&&(d=e),g.__attrVals[a]=d,void 0)},_initAttrs:function(a){var b=this;if(a)for(var c in a)a.hasOwnProperty(c)&&b._set(c,a[c])
}}),h}),define("bui/component",["bui/component/manage","bui/component/uibase","bui/component/view","bui/component/controller"],function(a){function b(a,b){var d,e;return a&&(e=a.xclass)&&(b&&!a.prefixCls&&(a.prefixCls=b.get("prefixCls")),d=c.Manager.getConstructorByXClass(e),d||BUI.error("can not find class by xclass desc : "+e),a=new d(a)),a}var c={};return BUI.mix(c,{Manager:a("bui/component/manage"),UIBase:a("bui/component/uibase"),View:a("bui/component/view"),Controller:a("bui/component/controller")}),c.create=b,c}),define("bui/component/manage",function(){function a(a){for(var b,c=a.split(/\s+/),d=-1,f=null,g=0;g<c.length;g++){var h=e[c[g]];h&&(b=h.priority)>d&&(d=b,f=h.constructor)}return f}function b(a){for(var b in e){var c=e[b];if(c.constructor==a)return b}return 0}function c(a,b){BUI.isFunction(b)?e[a]={constructor:b,priority:0}:(b.priority=b.priority||0,e[a]=b)}function d(a){for(var b=$.trim(a).split(/\s+/),c=0;c<b.length;c++)b[c]&&(b[c]=this.get("prefixCls")+b[c]);return b.join(" ")}var e={},f={},g={__instances:f,addComponent:function(a,b){f[a]=b},removeComponent:function(a){delete f[a]},eachComponent:function(a){BUI.each(f,a)},getComponent:function(a){return f[a]},getCssClassWithPrefix:d,getXClassByConstructor:b,getConstructorByXClass:a,setConstructorByXClass:c};return g}),function(){var a="bui/component/uibase/";define("bui/component/uibase",[a+"base",a+"align",a+"autoshow",a+"autohide",a+"close",a+"collapseable",a+"drag",a+"keynav",a+"list",a+"listitem",a+"mask",a+"position",a+"selection",a+"stdmod",a+"decorate",a+"tpl",a+"childcfg",a+"bindable",a+"depends"],function(b){var c=b(a+"base");return BUI.mix(c,{Align:b(a+"align"),AutoShow:b(a+"autoshow"),AutoHide:b(a+"autohide"),Close:b(a+"close"),Collapseable:b(a+"collapseable"),Drag:b(a+"drag"),KeyNav:b(a+"keynav"),List:b(a+"list"),ListItem:b(a+"listitem"),Mask:b(a+"mask"),Position:b(a+"position"),Selection:b(a+"selection"),StdMod:b(a+"stdmod"),Decorate:b(a+"decorate"),Tpl:b(a+"tpl"),ChildCfg:b(a+"childcfg"),Bindable:b(a+"bindable"),Depends:b(a+"depends")}),BUI.mix(c,{CloseView:c.Close.View,CollapseableView:c.Collapseable.View,ChildList:c.List.ChildList,ListItemView:c.ListItem.View,MaskView:c.Mask.View,PositionView:c.Position.View,StdModView:c.StdMod.View,TplView:c.Tpl.View}),c})}(),define("bui/component/uibase/base",["bui/component/manage"],function(a){function b(a){c(a,"initializer","constructor")}function c(a,b,c){for(var d,e,f,g,h=a.constructor,i=[];h;){if(g=[],f=h.mixins)for(var j=0;j<f.length;j++)d=f[j],d&&("constructor"!=c&&(d=d.prototype.hasOwnProperty(c)?d.prototype[c]:null),d&&g.push(d));h.prototype.hasOwnProperty(b)&&(e=h.prototype[b])&&g.push(e),g.length&&i.push.apply(i,g.reverse()),h=h.superclass&&h.superclass.constructor}for(j=i.length-1;j>=0;j--)i[j]&&i[j].call(a)}function d(a){for(var b,c,d,e=a.constructor;e;){if(e.prototype.hasOwnProperty("destructor")&&e.prototype.destructor.apply(a),b=e.mixins)for(d=b.length-1;d>=0;d--)c=b[d]&&b[d].prototype.__destructor,c&&c.apply(a);e=e.superclass&&e.superclass.constructor}}function e(a){a&&BUI.each(a,function(b,c){BUI.isFunction(b)&&(a[c]=new b)})}function f(a,b,c){b&&BUI.each(b,function(b){b[c]&&b[c](a)})}function g(a){var b,c,d=a.getAttrs();for(b in d)d.hasOwnProperty(b)&&(c=k+l(b),a[c]&&function(b,c){a.on("after"+l(b)+"Change",function(b){b.target===a&&a[c](b.newVal,b)})}(b,c))}function h(a){var b,c,d=a.getAttrs();for(var e in d)if(d.hasOwnProperty(e)){var f=k+l(e);(c=a[f])&&d[e].sync!==!1&&void 0!==(b=a.get(e))&&c.call(a,b)}}function i(a){for(var b=[];a.base;)b.push(a),a=a.base;for(var c=b.length-1;c>=0;c--){var d=b[c];BUI.mix(d.prototype,d.px),BUI.mix(d,d.sx),d.base=null,d.px=null,d.sx=null}}var j=a("bui/component/manage"),k="_uiSet",l=BUI.ucfirst,m=$.noop,n=a("bui/base"),o=function(a){var c=this;n.apply(c,arguments),c.setInternal("userConfig",a),b(c,a);var d=c.get("plugins");c.get("listeners"),e(d);var g=c.get("xclass");g&&(c.__xclass=g),f(c,d,"initializer"),a&&a.autoRender&&c.render()};return o.ATTRS={userConfig:{},autoRender:{value:!1},listeners:{value:{}},plugins:{value:[]},rendered:{value:!1},xclass:{valueFn:function(){return j.getXClassByConstructor(this.constructor)}}},BUI.extend(o,n),BUI.augment(o,{create:function(){var a=this;return a.get("created")||(a.fire("beforeCreateDom"),c(a,"createDom","__createDom"),a._set("created",!0),a.fire("afterCreateDom"),f(a,a.get("plugins"),"createDom")),a},render:function(){var a=this;if(!a.get("rendered")){var b=a.get("plugins");a.create(void 0),a.fire("beforeRenderUI"),c(a,"renderUI","__renderUI"),a.fire("afterRenderUI"),f(a,b,"renderUI"),a.fire("beforeBindUI"),g(a),c(a,"bindUI","__bindUI"),a.fire("afterBindUI"),f(a,b,"bindUI"),a.fire("beforeSyncUI"),h(a),c(a,"syncUI","__syncUI"),a.fire("afterSyncUI"),f(a,b,"syncUI"),a._set("rendered",!0)}return a},createDom:m,renderUI:m,bindUI:m,syncUI:m,destroy:function(){var a=this;return a.fire("beforeDestroy"),f(a,a.get("plugins"),"destructor"),d(a),a.fire("afterDestroy"),a.off(),a.clearAttrVals(),a.destroyed=!0,a}}),BUI.mix(o,{define:function(a,b,c,d){function e(){var a=this.constructor;a.base&&i(a),o.apply(this,arguments)}return $.isPlainObject(b)&&(d=c,c=b,b=[]),BUI.extend(e,a),e.base=a,e.px=c,e.sx=d,b.length&&(e.extensions=b),e},extend:function p(){var a,b=$.makeArray(arguments),c=b[b.length-1];if(b.unshift(this),c.xclass&&(b.pop(),b.push(c.xclass)),a=o.define.apply(o,b),c.xclass){var d=c.priority||(this.priority?this.priority+1:1);j.setConstructorByXClass(c.xclass,{constructor:a,priority:d}),a.__xclass=c.xclass,a.priority=d,a.toString=function(){return c.xclass}}return a.extend=p,a}}),o}),define("bui/component/uibase/align",["bui/ua"],function(a){function b(a){var b,c=a.ownerDocument,d=c.body,e=$(a).css("position"),f="fixed"==e||"absolute"==e;if(!f)return"html"==a.nodeName.toLowerCase()?null:a.parentNode;for(b=a.parentNode;b&&b!=d;b=b.parentNode)if(e=$(b).css("position"),"static"!=e)return b;return null}function c(a){var c,d,e,f,g={left:0,right:1/0,top:0,bottom:1/0},h=a.ownerDocument,i=h.body,j=h.documentElement;for(c=a;c=b(c);)if((!n.ie||0!=c.clientWidth)&&c!=i&&c!=j&&"visible"!=$(c).css("overflow")){var k=$(c).offset();k.left+=c.clientLeft,k.top+=c.clientTop,g.top=Math.max(g.top,k.top),g.right=Math.min(g.right,k.left+c.clientWidth),g.bottom=Math.min(g.bottom,k.top+c.clientHeight),g.left=Math.max(g.left,k.left)}return d=$(p).scrollLeft(),e=$(p).scrollTop(),g.left=Math.max(g.left,d),g.top=Math.max(g.top,e),f={width:BUI.viewportWidth(),height:BUI.viewportHeight()},g.right=Math.min(g.right,d+f.width),g.bottom=Math.min(g.bottom,e+f.height),g.top>=0&&g.left>=0&&g.bottom>g.top&&g.right>g.left?g:null}function d(a,b,c,d){var e,f,g,h;return e={left:a.left,top:a.top},g=l(b,c[0]),h=l(a,c[1]),f=[h.left-g.left,h.top-g.top],{left:e.left-f[0]+ +d[0],top:e.top-f[1]+ +d[1]}}function e(a,b,c){return a.left<c.left||a.left+b.width>c.right}function f(a,b,c){return a.top<c.top||a.top+b.height>c.bottom}function g(a,b,c,d){var e=BUI.cloneObject(a),f={width:b.width,height:b.height};return d.adjustX&&e.left<c.left&&(e.left=c.left),d.resizeWidth&&e.left>=c.left&&e.left+f.width>c.right&&(f.width-=e.left+f.width-c.right),d.adjustX&&e.left+f.width>c.right&&(e.left=Math.max(c.right-f.width,c.left)),d.adjustY&&e.top<c.top&&(e.top=c.top),d.resizeHeight&&e.top>=c.top&&e.top+f.height>c.bottom&&(f.height-=e.top+f.height-c.bottom),d.adjustY&&e.top+f.height>c.bottom&&(e.top=Math.max(c.bottom-f.height,c.top)),BUI.mix(e,f)}function h(a,b,c){var d=[];return $.each(a,function(a,e){d.push(e.replace(b,function(a){return c[a]}))}),d}function i(a,b){return a[b]=-a[b],a}function j(){}function k(a){var b,c,d;return a.length&&!$.isWindow(a[0])?(b=a.offset(),c=a.outerWidth(),d=a.outerHeight()):(b={left:BUI.scrollLeft(),top:BUI.scrollTop()},c=BUI.viewportWidth(),d=BUI.viewportHeight()),b.width=c,b.height=d,b}function l(a,b){var c,d,e=b.charAt(0),f=b.charAt(1),g=a.width,h=a.height;return c=a.left,d=a.top,"c"===e?d+=h/2:"b"===e&&(d+=h),"c"===f?c+=g/2:"r"===f&&(c+=g),{left:c,top:d}}function m(a){var b=a.attr("class"),c=new RegExp("s?"+o+"[a-z]{2}-[a-z]{2}","ig"),d=c.exec(b);d&&a.removeClass(d.join(" "))}var n=a("bui/ua"),o="x-align-",p=window;return j.__getOffsetParent=b,j.__getVisibleRectForElement=c,j.ATTRS={align:{value:{}}},j.prototype={_uiSetAlign:function(a){var b,c,d="";a&&a.points&&(this.align(a.node,a.points,a.offset,a.overflow),this.set("cachePosition",null),b=this.get("el"),m(b),c=a.points.join("-"),d=o+c,b.addClass(d))},align:function(a,b,j,l){a=$(a||p),j=j&&[].concat(j)||[0,0],l=l||{};var m=this,n=m.get("el"),o=0,q=c(n[0]),r=k(n),s=k(a),t=d(r,s,b,j),u=BUI.merge(r,t);if(q&&(l.adjustX||l.adjustY)){e(t,r,q)&&(o=1,b=h(b,/[lr]/gi,{l:"r",r:"l"}),j=i(j,0)),f(t,r,q)&&(o=1,b=h(b,/[tb]/gi,{t:"b",b:"t"}),j=i(j,1)),o&&(t=d(r,s,b,j),BUI.mix(u,t));var v={};v.adjustX=l.adjustX&&e(t,r,q),v.adjustY=l.adjustY&&f(t,r,q),(v.adjustX||v.adjustY)&&(u=g(t,r,q,v))}return u.left!=r.left&&(m.setInternal("x",null),m.get("view").setInternal("x",null),m.set("x",u.left)),u.top!=r.top&&(m.setInternal("y",null),m.get("view").setInternal("y",null),m.set("y",u.top)),u.width!=r.width&&n.width(n.width()+u.width-r.width),u.height!=r.height&&n.height(n.height()+u.height-r.height),m},center:function(a){var b=this;return b.set("align",{node:a,points:["cc","cc"],offset:[0,0]}),b}},j}),define("bui/component/uibase/autoshow",function(){function a(){}return a.ATTRS={trigger:{},delegateTigger:{value:!1},autoAlign:{value:!0},autoFocused:{value:!0},curTrigger:{},triggerCallback:{value:function(){}},triggerEvent:{value:"click"},triggerHideEvent:{},events:{value:{triggerchange:!1}}},a.prototype={__createDom:function(){this._setTrigger()},_setTrigger:function(){function a(a){var b=c.get("curTrigger"),d=h?$(a.currentTarget):$(this),e=c.get("align");b&&b[0]==d[0]||(c.set("curTrigger",d),c.fire("triggerchange",{prevTrigger:b,curTrigger:d})),c.get("autoAlign")&&(e.node=d),c.set("align",e),c.show(),f&&f(a)}function b(a){var b=a.toElement||a.relatedTarget;b&&c.containsElement(b)||c.hide()}var c=this,d=c.get("triggerEvent"),e=c.get("triggerHideEvent"),f=c.get("triggerCallback"),g=c.get("trigger"),h=c.get("delegateTigger"),i=$(g);d&&(h&&BUI.isString(g)?$(document).delegate(g,d,a):i.on(d,a)),e&&(h&&BUI.isString(g)?$(document).delegate(g,e,b):i.on(e,b))},__renderUI:function(){var a=this,b=a.get("align");b&&!b.node&&(b.node=a.get("render")||a.get("trigger"))}},a}),define("bui/component/uibase/autohide",function(){function a(a,b){var c=a.get("hideExceptNode");return c&&c.length?$.contains(c[0],b):!1}function b(){}var c=BUI.wrapBehavior,d=BUI.getWrapBehavior;return b.ATTRS={autoHideType:{value:"click"},autoHide:{value:!1},hideExceptNode:{},events:{value:{autohide:!1}}},b.prototype={__bindUI:function(){var a=this;a.on("afterVisibleChange",function(b){var c=b.newVal;a.get("autoHide")&&(c?a._bindHideEvent():a._clearHideEvent())})},handleMoveOuter:function(b){var c=this,d=b.toElement||b.relatedTarget;c.containsElement(d)||a(c,d)||c.fire("autohide")!==!1&&c.hide()},handleDocumentClick:function(b){var c=this,d=b.target;c.containsElement(d)||a(c,d)||c.fire("autohide")!==!1&&c.hide()},_bindHideEvent:function(){var a=this,b=a.get("curTrigger"),d=a.get("autoHideType");"click"===d?$(document).on("mousedown",c(a,"handleDocumentClick")):(a.get("el").on("mouseleave",c(a,"handleMoveOuter")),b&&$(b).on("mouseleave",c(a,"handleMoveOuter")))},_clearHideEvent:function(){var a=this,b=a.get("curTrigger"),c=a.get("autoHideType");"click"===c?$(document).off("mousedown",d(a,"handleDocumentClick")):(a.get("el").off("mouseleave",d(a,"handleMoveOuter")),b&&$(b).off("mouseleave",d(a,"handleMoveOuter")))}},b}),define("bui/component/uibase/close",function(){function a(a){return $(a.get("closeTpl"))}function b(){}function c(){}var d=BUI.prefix+"ext-";b.ATTRS={closeTpl:{value:'<a tabindex="0" href=\'javascript:void("\u5173\u95ed")\' role="button" class="'+d+"close"+'">'+'<span class="'+d+"close-x"+'">\u5173\u95ed<'+"/span>"+"<"+"/a>"},closeable:{value:!0},closeBtn:{}},b.prototype={_uiSetCloseable:function(b){var c=this,d=c.get("closeBtn");b?(d||c.setInternal("closeBtn",d=a(c)),d.appendTo(c.get("el"),void 0)):d&&d.remove()}};var e="hide";c.ATTRS={closeTpl:{view:!0},closeable:{view:1},closeBtn:{view:1},closeAction:{value:e}};var f={hide:e,destroy:"destroy",remove:"remove"};return c.prototype={_uiSetCloseable:function(a){var b=this;a&&!b.__bindCloseEvent&&(b.__bindCloseEvent=1,b.get("closeBtn").on("click",function(a){b.fire("closeclick",{domTarget:a.target})!==!1&&b.close(),a.preventDefault()}))},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()},close:function(){var a=this,b=f[a.get("closeAction")||e];a.fire("closing",{action:b})!==!1&&(a.fire("beforeclosed",{action:b}),"remove"==b?a[b](!0):a[b](),a.fire("closed",{action:b}))}},c.View=b,c}),define("bui/component/uibase/drag",function(){function a(){var a=$(d).css("opacity",0).prependTo("body");return a}var b=BUI.guid("drag"),c=function(){};c.ATTRS={dragNode:{},draging:{setter:function(a){return a===!0?{}:void 0},value:null},constraint:{},dragBackEl:{getter:function(){return $("#"+b)}}};var d='<div id="'+b+'" style="background-color: red; position: fixed; left: 0px; width: 100%; height: 100%; top: 0px; cursor: move; z-index: 999999; display: none; "></div>';return c.prototype={__bindUI:function(){function a(a){var b=e.get("draging");b&&(a.preventDefault(),e._dragMoveTo(a.pageX,a.pageY,b,f))}function b(a){if(1==a.which){e.set("draging",!1);var b=e.get("dragBackEl");b&&b.hide(),d()}}function c(){$(document).on("mousemove",a),$(document).on("mouseup",b)}function d(){$(document).off("mousemove",a),$(document).off("mouseup",b)}var e=this,f=e.get("constraint"),g=e.get("dragNode");g&&g.on("mousedown",function(a){1==a.which&&(a.preventDefault(),e.set("draging",{elX:e.get("x"),elY:e.get("y"),startX:a.pageX,startY:a.pageY}),c())})},_dragMoveTo:function(b,c,d,e){var f=this,g=f.get("dragBackEl"),d=d||f.get("draging"),h=d.startX-b,i=d.startY-c;g.length||(g=a()),g.css({cursor:"move",display:"block"}),f.set("xy",[f._getConstrainX(d.elX-h,e),f._getConstrainY(d.elY-i,e)])},_getConstrainX:function(a,b){var c=this,d=c.get("el").outerWidth(),e=a+d,f=c.get("x");if(b){var g=b.offset();return g.left>=a?g.left:g.left+b.width()<e?g.left+b.width()-d:a}return BUI.isInHorizontalView(a)&&BUI.isInHorizontalView(e)?a:f},_getConstrainY:function(a,b){var c=this,d=c.get("el").outerHeight(),e=a+d,f=c.get("y");if(b){var g=b.offset();return g.top>a?g.top:g.top+b.height()<e?g.top+b.height()-d:a}return BUI.isInVerticalView(a)&&BUI.isInVerticalView(e)?a:f}},c}),define("bui/component/uibase/keynav",["bui/keycode"],function(a){var b=a("bui/keycode"),c=BUI.wrapBehavior,d=BUI.getWrapBehavior,e=function(){};return e.ATTRS={allowKeyNav:{value:!0},navEvent:{value:"keydown"},ignoreInputFields:{value:!0}},e.prototype={__bindUI:function(){},_uiSetAllowKeyNav:function(a){var b=this,e=b.get("navEvent"),f=b.get("el");a?f.on(e,c(b,"_handleKeyDown")):f.off(e,d(b,"_handleKeyDown"))},_handleKeyDown:function(a){var c=this,d=c.get("ignoreInputFields"),e=a.which;if(!d||!$(a.target).is("input,select,textarea"))switch(e){case b.UP:a.preventDefault(),c.handleNavUp(a);break;case b.DOWN:a.preventDefault(),c.handleNavDown(a);break;case b.RIGHT:a.preventDefault(),c.handleNavRight(a);break;case b.LEFT:a.preventDefault(),c.handleNavLeft(a);break;case b.ENTER:c.handleNavEnter(a);break;case b.ESC:c.handleNavEsc(a);break;case b.TAB:c.handleNavTab(a)}},handleNavUp:function(){},handleNavDown:function(){},handleNavLeft:function(){},handleNavRight:function(){},handleNavEnter:function(){},handleNavEsc:function(){},handleNavTab:function(){}},e}),define("bui/component/uibase/mask",function(a){function b(a){return a.get("prefixCls")+"ext-mask"}function c(){return j?BUI.docWidth()+"px":"100%"}function d(){return j?BUI.docHeight()+"px":"100%"}function e(a){var b=$('<div  style="width:'+c()+";"+"left:0;"+"top:0;"+"height:"+d()+";"+"position:"+(j?"absolute":"fixed")+';"'+' class="'+a+'">'+(j?'<iframe style="position:absolute;left:0;top:0;background:white;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;"></iframe>':"")+"</div>").prependTo("body");return b.on("mousedown",function(a){a.preventDefault()}),b}function f(){}function g(){}var h=a("bui/ua"),i={},j=6==h.ie;return f.ATTRS={maskShared:{value:!0}},f.prototype={_maskExtShow:function(){var a,c=this,d=b(c),f=i[d],g=c.get("maskShared"),h=c.get("maskNode");h||(g?f?h=f.node:(h=e(d),f=i[d]={num:0,node:h}):h=e(d),c.setInternal("maskNode",h)),(a=c.get("zIndex"))&&h.css("z-index",a-1),g&&f.num++,g&&1!=f.num||h.show(),$("body").addClass("x-masked-relative")},_maskExtHide:function(){var a=this,c=b(a),d=i[c],e=a.get("maskShared"),f=a.get("maskNode");e&&d?(d.num=Math.max(d.num-1,0),0==d.num&&f.hide()):f&&f.hide(),$("body").removeClass("x-masked-relative")},__destructor:function(){var a=this,b=a.get("maskShared"),c=a.get("maskNode");a.get("maskNode")&&(b?a.get("visible")&&a._maskExtHide():c.remove())}},g.ATTRS={mask:{value:!1},maskNode:{view:1},maskShared:{view:1}},g.prototype={__bindUI:function(){var a=this,b=a.get("view");b._maskExtShow,b._maskExtHide,a.get("mask")&&(a.on("show",function(){b._maskExtShow()}),a.on("hide",function(){b._maskExtHide()}))}},g=g,g.View=f,g}),define("bui/component/uibase/position",function(){function a(){}function b(){}return a.ATTRS={x:{valueFn:function(){var a=this;return a.get("el")&&a.get("el").offset().left}},y:{valueFn:function(){var a=this;return a.get("el")&&a.get("el").offset().top}},zIndex:{},visibleMode:{value:"visibility"}},a.prototype={__createDom:function(){this.get("el").addClass(BUI.prefix+"ext-position")},_uiSetZIndex:function(a){this.get("el").css("z-index",a)},_uiSetX:function(a){null!=a&&this.get("el").offset({left:a})},_uiSetY:function(a){null!=a&&this.get("el").offset({top:a})},_uiSetLeft:function(a){null!=a&&this.get("el").css({left:a})},_uiSetTop:function(a){null!=a&&this.get("el").css({top:a})}},b.ATTRS={x:{view:1},y:{view:1},left:{view:1},top:{view:1},xy:{setter:function(a){var b=this,c=$.makeArray(a);return c.length&&(c[0]&&b.set("x",c[0]),c[1]&&b.set("y",c[1])),a},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1},visible:{view:!0,value:!0}},b.prototype={move:function(a,b){var c=this;return BUI.isArray(a)&&(b=a[1],a=a[0]),c.set("xy",[a,b]),c},_uiSetX:function(a){if(null!=a){var b=this,c=b.get("el");b.setInternal("left",c.position().left),-999!=a&&this.set("cachePosition",null)}},_uiSetY:function(a){if(null!=a){var b=this,c=b.get("el");b.setInternal("top",c.position().top),-999!=a&&this.set("cachePosition",null)}},_uiSetLeft:function(a){var b=this,c=b.get("el");null!=a&&b.setInternal("x",c.offset().left)},_uiSetTop:function(a){var b=this,c=b.get("el");null!=a&&b.setInternal("y",c.offset().top)}},b.View=a,b}),define("bui/component/uibase/listitem",function(){function a(){}function b(){}return a.ATTRS={selected:{}},a.prototype={_uiSetSelected:function(a){var b=this,c=b.getStatusCls("selected"),d=b.get("el");a?d.addClass(c):d.removeClass(c)}},b.ATTRS={selectable:{value:!0},selected:{view:!0,sync:!1,value:!1}},b.prototype={},b.View=a,b}),define("bui/component/uibase/stdmod",function(){function a(){}function b(a,b){var c=a.get("contentEl"),d=a.get(b);d||(d=$('<div class="'+e+b+'"'+" "+" >"+"</div>"),d.appendTo(c),a.setInternal(b,d))}function c(a,b,c){b=a.get(b),BUI.isString(c)?b.html(c):b.html("").append(c)}function d(){}var e=BUI.prefix+"stdmod-";return a.ATTRS={header:{},body:{},footer:{},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}},a.PARSER={header:function(a){return a.one("."+e+"header")},body:function(a){return a.one("."+e+"body")},footer:function(a){return a.one("."+e+"footer")}},a.prototype={__createDom:function(){b(this,"header"),b(this,"body"),b(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){c(this,"body",a)},_uiSetHeaderContent:function(a){c(this,"header",a)},_uiSetFooterContent:function(a){c(this,"footer",a)}},d.ATTRS={header:{view:1},body:{view:1},footer:{view:1},bodyStyle:{view:1},footerStyle:{view:1},headerStyle:{view:1},headerContent:{view:1},bodyContent:{view:1},footerContent:{view:1}},d.View=a,d}),define("bui/component/uibase/decorate",["bui/array","bui/json","bui/component/manage"],function(a){function b(a,b){if(b[a])return!0;var c=new RegExp("^"+l);return a!==FIELD_CFG&&c.test(a)?!0:!1}function c(a){for(var b=[],c=a.constructor;c;)b.push(c),c=c.superclass&&c.superclass.constructor;return b}function d(a){return a=$.trim(a),regx.test(a)&&(a=j.looseParse(a)),a}function e(a,b){var c=a.userConfig||{};for(var d in b)d in c||a.setInternal(d,b[d])}function f(a,b){var c,d,e=this,f=e.userConfig||{};for(c in b)c in f||(d=b[c],BUI.isFunction(d)?e.setInternal(c,d.call(e,a)):"string"==typeof d?e.setInternal(c,a.find(d)):BUI.isArray(d)&&d[0]&&e.setInternal(c,a.find(d[0])))}function g(a,b){var d,e,g,h=a.constructor;for(g=c(a),d=g.length-1;d>=0;d--)h=g[d],(e=h[PARSER])&&f.call(a,b,e)}function h(a){var b,c,d=a,f=d.get("srcNode");f&&(f=$(f),d.setInternal("el",f),d.setInternal("srcNode",f),b=d.get("userConfig"),c=d.getDecorateConfig(f),e(a,c),d.get("isDecorateChild")&&d.decorateInternal&&d.decorateInternal(f),g(a,f))}function i(){h(this)}var j=(a("bui/array"),a("bui/json")),k=BUI.prefix,l="data-";return FIELD_CFG=l+"cfg",PARSER="PARSER",Manager=a("bui/component/manage"),regx=/^[\{\[]/,i.ATTRS={srcNode:{view:!0},isDecorateChild:{value:!1},decorateCfgFields:{value:{id:!0,name:!0,value:!0,title:!0}}},i.prototype={getDecorateConfig:function(a){if(!a.length)return null;var c=this,e=a[0],f=e.attributes,g=c.get("decorateCfgFields"),h={},i=c._getStautsCfg(a);return BUI.each(f,function(a){var c=a.nodeName;try{if(c===FIELD_CFG){var e=d(a.nodeValue);BUI.mix(h,e)}else b(c,g)&&(c=c.replace(l,""),h[c]=d(a.nodeValue))}catch(f){BUI.log("parse field error,the attribute is:"+c)}}),BUI.mix(h,i)},_getStautsCfg:function(a){var b=this,c={},d=b.get("statusCls");return BUI.each(d,function(b,d){a.hasClass(b)&&(c[d]=!0)}),c},getDecorateElments:function(){var a=this,b=a.get("el"),c=a.get("childContainer");return c?b.find(c).children():b.children()},decorateInternal:function(a){var b=this;b.decorateChildren(a)},findXClassByNode:function(a,b){var c=this,d=a.attr("class")||"",e=c.get("defaultChildClass");d=d.replace(new RegExp("\\b"+k,"ig"),"");var f=Manager.getConstructorByXClass(d)||Manager.getConstructorByXClass(e);return f||b||(BUI.log(a),BUI.error("can not find ui "+d+" from this markup")),Manager.getXClassByConstructor(f)},decorateChildrenInternal:function(a,b){var c=this,d=c.get("children");d.push({xclass:a,srcNode:b})},decorateChildren:function(){var a=this,b=a.getDecorateElments();BUI.each(b,function(b){var c=a.findXClassByNode($(b));a.decorateChildrenInternal(c,$(b))})}},i}),define("bui/component/uibase/tpl",function(){function a(){}function b(){}return a.ATTRS={tpl:{},tplEl:{}},a.prototype={__renderUI:function(){var a,b=this,c=b.get("childContainer");c&&(a=b.get("el").find(c),a.length&&b.set("contentEl",a))},getTpl:function(a){var b=this,c=b.get("tpl"),d=b.get("tplRender");return a=a||b.getAttrVals(),d?d(a):c?BUI.substitute(c,a):""},setTplContent:function(a){var b=this,c=b.get("el"),d=b.get("content"),e=b.get("tplEl"),f=b.getTpl(a);if(!d&&f){if(e){var g=$(f).insertBefore(e);e.remove(),e=g}else e=$(f).appendTo(c);b.set("tplEl",e)}}},b.ATTRS={tpl:{view:!0,sync:!1},tplRender:{view:!0,value:null},childContainer:{view:!0}},b.prototype={__renderUI:function(){this.get("srcNode")||this.setTplContent()},updateContent:function(){this.setTplContent()},setTplContent:function(){var a=this,b=a.getAttrVals();a.get("view").setTplContent(b)},_uiSetTpl:function(){this.setTplContent()}},b.View=a,b}),define("bui/component/uibase/collapseable",function(){var a=function(){};a.ATTRS={collapsed:{}},a.prototype={_uiSetCollapsed:function(a){var b=this,c=b.getStatusCls("collapsed"),d=b.get("el");a?d.addClass(c):d.removeClass(c)}};var b=function(){};return b.ATTRS={collapseable:{value:!1},collapsed:{view:!0,value:!1},events:{value:{expanded:!0,collapsed:!0}}},b.prototype={_uiSetCollapsed:function(a){var b=this;a?b.fire("collapsed"):b.fire("expanded")}},b.View=a,b}),define("bui/component/uibase/selection",function(){var a=function(){};return a.ATTRS={selectedEvent:{value:"click"},events:{value:{selectedchange:!1,beforeselectedchange:!1,itemselected:!1,itemunselected:!1}},idField:{value:"id"},multipleSelect:{value:!1}},a.prototype={clearSelection:function(){var a=this,b=a.getSelection();BUI.each(b,function(b){a.clearSelected(b)})},getSelection:function(){},getSelected:function(){return this.getSelection()[0]},getSelectedValue:function(){var a=this,b=a.get("idField"),c=a.getSelected();return a.getValueByField(c,b)},getSelectionValues:function(){var a=this,b=a.get("idField"),c=a.getSelection();return $.map(c,function(c){return a.getValueByField(c,b)})},getSelectionText:function(){var a=this,b=a.getSelection();return $.map(b,function(b){return a.getItemText(b)})},clearSelected:function(a){var b=this;a=a||b.getSelected(),a&&b.setItemSelected(a,!1)},getSelectedText:function(){var a=this,b=a.getSelected();return a.getItemText(b)},setSelection:function(a){var b=this;a=BUI.isArray(a)?a:[a],BUI.each(a,function(a){b.setSelected(a)})},setSelected:function(a){var b=this,c=b.get("multipleSelect");if(b.isItemSelectable(a)){if(!c){var d=b.getSelected();a!=d&&b.clearSelected(d)}b.setItemSelected(a,!0)}},isItemSelected:function(){},isItemSelectable:function(){return!0},setItemSelected:function(a,b){var c,d=this;a&&(c=d.isItemSelected(a),c==b)||d.fire("beforeselectedchange",{item:a,selected:b})!==!1&&d.setItemSelectedStatus(a,b)},setItemSelectedStatus:function(){},setAllSelection:function(){},setSelectedByField:function(a,b){b||(b=a,a=this.get("idField"));var c=this,d=c.findItemByField(a,b);c.setSelected(d)},setSelectionByField:function(a,b){b||(b=a,a=this.get("idField"));var c=this;BUI.each(b,function(b){c.setSelectedByField(a,b)})},afterSelected:function(a,b,c){var d=this;b?(d.fire("itemselected",{item:a,domTarget:c}),d.fire("selectedchange",{item:a,domTarget:c,selected:b})):(d.fire("itemunselected",{item:a,domTarget:c}),d.get("multipleSelect")&&d.fire("selectedchange",{item:a,domTarget:c,selected:b}))}},a}),define("bui/component/uibase/list",["bui/component/uibase/selection"],function(a){function b(a,b){var d=b.isController?b.getAttrVals():b,e=a.get("itemTpl"),f=a.get("itemStatusCls"),g=a.get("itemTplRender");if(e&&!d.tpl&&c(b,"tpl",e),g&&!d.tplRender&&c(b,"tplRender",g),f){var h=d.statusCls||b.isController?b.get("statusCls"):{};BUI.each(f,function(a,b){a&&!h[b]&&(h[b]=a)}),c(b,"statusCls",h)}}function c(a,b,c){a.isController?a.set(b,c):a[b]=c}var d=a("bui/component/uibase/selection"),e=function(){};e.ATTRS={items:{view:!0},idField:{value:"id"},itemTpl:{view:!0},itemTplRender:{view:!0},itemStatusCls:{view:!0,value:{}},events:{value:{itemclick:!0}}},e.prototype={getItemCount:function(){return this.getItems().length},getValueByField:function(){},getItems:function(){},getFirstItem:function(){return this.getItemAt(0)},getLastItem:function(){return this.getItemAt(this.getItemCount()-1)},getItemAt:function(a){return this.getItems()[a]||null},getItem:function(a){var b=this.get("idField");return this.findItemByField(b,a)},indexOfItem:function(a){return BUI.Array.indexOf(a,this.getItems())},addItems:function(a){var b=this;BUI.each(a,function(a){b.addItem(a)})},addItemsAt:function(a,b){var c=this;BUI.each(a,function(a,d){c.addItemAt(a,b+d)})},updateItem:function(){},addItem:function(a){return this.addItemAt(a,this.getItemCount())},addItemAt:function(){},findItemByField:function(){},getItemText:function(){},clearItems:function(){var a=this,b=a.getItems();b.splice(0),a.clearControl()},removeItem:function(){},removeItems:function(a){var b=this;BUI.each(a,function(a){b.removeItem(a)})},removeItemAt:function(a){this.removeItem(this.getItemAt(a))},clearControl:function(){}};var f=function(){this.__init()};return f.ATTRS=BUI.merge(!0,e.ATTRS,d.ATTRS,{items:{sync:!1},autoInitItems:{value:!0},isDecorateChild:{value:!0},defaultLoaderCfg:{value:{property:"children",dataType:"json"}}}),BUI.augment(f,e,d,{__init:function(){var a=this,b=a.get("items");b&&a.get("autoInitItems")&&a.addItems(b),a.on("beforeRenderUI",function(){a._beforeRenderUI()})},_uiSetItems:function(a){var b=this;b.clearControl(),b.addItems(a)},_beforeRenderUI:function(){var a=this,c=a.get("children");a.get("items"),BUI.each(c,function(c){b(a,c)})},__bindUI:function(){var a=this,c=a.get("selectedEvent");a.on(c,function(b){var c=b.target;c.get("selectable")&&(c.get("selected")?a.get("multipleSelect")&&a.clearSelected(c):a.setSelected(c))}),a.on("click",function(b){b.target!==a&&a.fire("itemclick",{item:b.target,domTarget:b.domTarget,domEvent:b})}),a.on("beforeAddChild",function(c){b(a,c.child)}),a.on("beforeRemoveChild",function(b){var c=b.child,d=c.get("selected");d&&(a.get("multipleSelect")?a.clearSelected(c):a.setSelected(null)),c.set("selected",!1)})},clearControl:function(){this.removeChildren(!0)},getItems:function(){return this.get("children")},updateItem:function(a){var b=this,c=b.get("idField"),d=b.findItemByField(c,a[c]);return d&&d.setTplContent(),d},removeItem:function(a){var b=this,c=b.get("idField");a instanceof BUI.Component.Controller||(a=b.findItemByField(c,a[c])),this.removeChild(a,!0)},addItemAt:function(a,b){return this.addChild(a,b)},findItemByField:function(a,b,c){c=c||this;var d=this,e=c.get("children"),f=null;return $(e).each(function(c,e){return e.get(a)==b?f=e:e.get("children").length&&(f=d.findItemByField(a,b,e)),f?!1:void 0}),f},getItemText:function(a){return a.get("el").text()},getValueByField:function(a,b){return a&&a.get(b)},setItemSelectedStatus:function(a,b){var c=this,d=null;a&&(a.set("selected",b),d=a.get("el")),c.afterSelected(a,b,d)},isItemSelected:function(a){return a?a.get("selected"):!1},setAllSelection:function(){var a=this,b=a.getItems();a.setSelection(b)},getSelection:function(){var a=this,b=a.getItems(),c=[];return BUI.each(b,function(b){a.isItemSelected(b)&&c.push(b)}),c}}),e.ChildList=f,e}),define("bui/component/uibase/childcfg",function(){var a=function(){this._init()};return a.ATTRS={defaultChildCfg:{}},a.prototype={_init:function(){var a=this,b=a.get("defaultChildCfg");b&&a.on("beforeAddChild",function(a){var c=a.child;$.isPlainObject(c)&&BUI.each(b,function(a,b){c[b]||(c[b]=a)})})}},a}),define("bui/component/uibase/depends",["bui/component/manage"],function(a){function b(a){var b=g.exec(a),c=b[1],d=b[2],f=e(c);return{source:f,eventType:d}}function c(a,c,d){var e,f=b(c),g=f.source,h=f.eventType;return g&&d&&h&&(BUI.isFunction(d)?e=d:BUI.isArray(d)&&(e=function(){BUI.each(d,function(b){a[b]&&a[b]()})})),e?(f.callbak=e,g.on(h,e),f):null}function d(a){var b=a.source,c=a.eventType,d=a.callbak;b.off(c,d)}function e(a){var b=h.getComponent(a);return b||(b=$("#"+a),b.length||(b=null)),b}function f(){}var g=/^#(.*):(.*)$/,h=a("bui/component/manage");return f.ATTRS={depends:{value:{}},dependencesMap:{value:{}}},f.prototype={__syncUI:function(){this.initDependences()},initDependences:function(){var a=this,b=a.get("depends");BUI.each(b,function(b,c){a.addDependence(c,b)})},addDependence:function(a,b){var d,e=this,f=e.get("dependencesMap");e.removeDependence(a),d=c(e,a,b),d&&(f[a]=d)},removeDependence:function(a){var b=this,c=b.get("dependencesMap"),e=c[a];e&&(d(e),delete c[a])},clearDependences:function(){var a=this,b=a.get("dependencesMap");BUI.each(b,function(a){d(a)}),a.set("dependencesMap",{})},__destructor:function(){this.clearDependences()}},f}),define("bui/component/uibase/bindable",function(){function a(){}return a.ATTRS={store:{},loadMask:{value:!1}},BUI.augment(a,{__bindUI:function(){var a=this,b=a.get("store"),c=a.get("loadMask");b&&(b.on("beforeload",function(b){a.onBeforeLoad(b),c&&c.show&&c.show()}),b.on("load",function(b){a.onLoad(b),c&&c.hide&&c.hide()
}),b.on("exception",function(b){a.onException(b),c&&c.hide&&c.hide()}),b.on("add",function(b){a.onAdd(b)}),b.on("remove",function(b){a.onRemove(b)}),b.on("update",function(b){a.onUpdate(b)}),b.on("localsort",function(b){a.onLocalSort(b)}))},__syncUI:function(){var a=this,b=a.get("store");b&&b.hasData()&&a.onLoad()},onBeforeLoad:function(){},onLoad:function(){},onException:function(){},onAdd:function(){},onRemove:function(){},onUpdate:function(){},onLocalSort:function(){}}),a}),define("bui/component/view",["bui/component/manage","bui/component/uibase"],function(a){var b=a("bui/component/manage"),c=a("bui/component/uibase"),d=document,e=c.extend([c.TplView],{getComponentCssClassWithState:function(a){var b=this,c=b.get("ksComponentCss");return a=a||"",b.getCssClassWithPrefix(c.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:b.getCssClassWithPrefix,getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},getStatusCls:function(a){var b=this,c=b.get("statusCls"),d=c[a];return d||(d=b.getComponentCssClassWithState("-"+a)),d},renderUI:function(){var a=this;if(!a.get("srcNode")){var b=a.get("render"),c=a.get("el"),e=a.get("elBefore");e?c.insertBefore(e,void 0):b?c.appendTo(b,void 0):c.appendTo(d.body,void 0)}},createDom:function(){var a=this,b=a.get("contentEl"),c=a.get("el");a.get("srcNode")||(c=$("<"+a.get("elTagName")+">"),b&&c.append(b),a.setInternal("el",c)),c.addClass(a.getComponentCssClassWithState()),b||a.setInternal("contentEl",c)},_uiSetHighlighted:function(a){var b=this,c=b.getStatusCls("hover"),d=b.get("el");d[a?"addClass":"removeClass"](c)},_uiSetDisabled:function(a){var b=this,c=b.getStatusCls("disabled"),d=b.get("el");d[a?"addClass":"removeClass"](c).attr("aria-disabled",a),a&&b.get("highlighted")&&b.set("highlighted",!1),b.get("focusable")&&b.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var b=this,c=b.getStatusCls("active");b.get("el")[a?"addClass":"removeClass"](c).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var b=this,c=b.get("el"),d=b.getStatusCls("focused");c[a?"addClass":"removeClass"](d)},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetRole:function(a){a&&this.get("el").attr("role",a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){var b=this;b.get("el").height(a)},_uiSetContent:function(a){var b,c=this;c.get("srcNode")&&!c.get("rendered")||(b=c.get("contentEl"),"string"==typeof a?b.html(a):a&&b.empty().append(a))},_uiSetVisible:function(a){var b=this,c=b.get("el"),d=b.get("visibleMode");"visibility"===d?c.css("visibility",a?"visible":"hidden"):c.css("display",a?"":"none")},destructor:function(){var a=this.get("el");a&&a.remove()}},{xclass:"view",priority:0});return e.ATTRS={el:{setter:function(a){return $(a)}},elCls:{},elStyle:{},role:{},width:{},height:{},statusCls:{value:{}},elTagName:{value:"div"},elAttrs:{},content:{},elBefore:{},render:{},visible:{value:!0},visibleMode:{value:"display"},cachePosition:{},contentEl:{valueFn:function(){return this.get("el")}},prefixCls:{value:BUI.prefix},focusable:{value:!0},focused:{},active:{},disabled:{},highlighted:{}},e}),define("bui/component/controller",["bui/component/uibase","bui/component/manage","bui/component/view","bui/component/loader"],function(a){"use strict";function b(a){return function(b){var c=this;if(c===b.target){var d=b.newVal,e=c.get("view");e&&e.set(a,d)}}}function c(a){return function(b){var c=this,d=c.get("view");return void 0===b?d.get(a):b}}function d(a,b,c){a.create();var d=a.getContentElement(),e=a.get("defaultChildClass");return b.xclass||b instanceof n||(b.xclass=b.xtype?e+"-"+b.xtype:e),b=BUI.Component.create(b,a),b.setInternal("parent",a),b.set("render",d),b.set("elBefore",c),b.create(void 0),b}function e(a){var d,e,g,h,i={},j=a.get("xview");d=a.getAttrs();for(g in d)d.hasOwnProperty(g)&&(e=d[g],e.view&&(void 0!==(h=a.get(g))&&(i[g]=h),a.on("after"+BUI.ucfirst(g)+"Change",b(g)),e.getter=c(g)));return delete i.autoRender,i.ksComponentCss=f(a),new j(i)}function f(a){for(var b,c=a.constructor,d=[];c&&c!==n;)b=i.getXClassByConstructor(c),b&&d.push(b),c=c.superclass&&c.superclass.constructor;return d.join(" ")}function g(a,b){var c=a.relatedTarget;return c&&(c===b[0]||$.contains(b,c))}var h=a("bui/component/uibase"),i=a("bui/component/manage"),j=a("bui/component/view"),k=a("bui/component/loader"),l=BUI.wrapBehavior,m=BUI.getWrapBehavior,n=h.extend([h.Decorate,h.Tpl,h.ChildCfg,h.KeyNav,h.Depends],{isController:!0,getCssClassWithPrefix:i.getCssClassWithPrefix,initializer:function(){var a=this;a.get("id")||a.set("id",a.getNextUniqueId()),i.addComponent(a.get("id"),a),a.setInternal("view",e(a))},getNextUniqueId:function(){var a=this,b=i.getXClassByConstructor(a.constructor);return BUI.guid(b)},createDom:function(){var a=this,b=a.get("view");b.create(void 0)},renderUI:function(){var a=this,b=a.get("loader");a.get("view").render(),a._initChildren(),b&&a.setInternal("loader",b)},_initChildren:function(a){var b,a,c,d=this;for(a=a||d.get("children").concat(),d.get("children").length=0,b=0;b<a.length;b++)c=d.addChild(a[b]),c.render()},bindUI:function(){var a=this,b=a.get("events");this.on("afterVisibleChange",function(a){this.fire(a.newVal?"show":"hide")}),BUI.each(b,function(b,c){a.publish(c,{bubbles:b})})},containsElement:function(a){var b=this,c=b.get("el"),d=b.get("children"),e=!1;return b.get("rendered")?($.contains(c[0],a)||c[0]===a?e=!0:BUI.each(d,function(b){return b.containsElement(a)?(e=!0,!1):void 0}),e):!1},isChildrenElement:function(a){var b=this,c=b.get("children"),d=!1;return BUI.each(c,function(b){return b.containsElement(a)?(d=!0,!1):void 0}),d},show:function(){var a=this;return a.render(),a.set("visible",!0),a},hide:function(){var a=this;return a.set("visible",!1),a},toggle:function(){return this.set("visible",!this.get("visible")),this},_uiSetFocusable:function(a){var b,c=this,d=c.getKeyEventTarget();a?d.attr("tabIndex",0).attr("hideFocus",!0).on("focus",l(c,"handleFocus")).on("blur",l(c,"handleBlur")).on("keydown",l(c,"handleKeydown")).on("keyup",l(c,"handleKeyUp")):(d.removeAttr("tabIndex"),(b=m(c,"handleFocus"))&&d.off("focus",b),(b=m(c,"handleBlur"))&&d.off("blur",b),(b=m(c,"handleKeydown"))&&d.off("keydown",b),(b=m(c,"handleKeyUp"))&&d.off("keyup",b))},_uiSetHandleMouseEvents:function(a){var b,c=this,d=c.get("el");a?d.on("mouseenter",l(c,"handleMouseEnter")).on("mouseleave",l(c,"handleMouseLeave")).on("contextmenu",l(c,"handleContextMenu")).on("mousedown",l(c,"handleMouseDown")).on("mouseup",l(c,"handleMouseUp")).on("dblclick",l(c,"handleDblClick")):(b=m(c,"handleMouseEnter")&&d.off("mouseenter",b),b=m(c,"handleMouseLeave")&&d.off("mouseleave",b),b=m(c,"handleContextMenu")&&d.off("contextmenu",b),b=m(c,"handleMouseDown")&&d.off("mousedown",b),b=m(c,"handleMouseUp")&&d.off("mouseup",b),b=m(c,"handleDblClick")&&d.off("dblclick",b))},_uiSetFocused:function(a){a&&this.getKeyEventTarget()[0].focus()},_uiSetVisible:function(a){var b=this,c=(b.get("el"),b.get("visibleMode"));if("visibility"===c){if(a){var d=b.get("cachePosition");d&&b.set("xy",d)}if(!a){var d=[b.get("x"),b.get("y")];b.set("cachePosition",d),b.set("xy",[-999,-999])}}},_uiSetChildren:function(a){var b=this,c=BUI.cloneObject(a);b._initChildren(c)},enable:function(){return this.set("disabled",!1),this},disable:function(){return this.set("disabled",!0),this},focus:function(){this.get("focusable")&&this.set("focused",!0)},getContentElement:function(){return this.get("view").getContentElement()},getKeyEventTarget:function(){return this.get("view").getKeyEventTarget()},addChild:function(a,b){var c,e=this,f=e.get("children");return void 0===b&&(b=f.length),e.fire("beforeAddChild",{child:a,index:b}),c=f[b]&&f[b].get("el")||null,a=d(e,a,c),f.splice(b,0,a),e.get("rendered")&&a.render(),e.fire("afterAddChild",{child:a,index:b}),a},remove:function(a){var b=this,c=b.get("parent");return c?c.removeChild(b,a):a&&b.destroy(),b},removeChild:function(a,b){var c=this,d=c.get("children"),e=BUI.Array.indexOf(a,d);if(-1!==e)return c.fire("beforeRemoveChild",{child:a,destroy:b}),-1!==e&&d.splice(e,1),b&&a.destroy&&a.destroy(),c.fire("afterRemoveChild",{child:a,destroy:b}),a},removeChildren:function(a){var b,c=this,d=[].concat(c.get("children"));for(b=0;b<d.length;b++)c.removeChild(d[b],a)},getChildAt:function(a){var b=this.get("children");return b[a]||null},getChild:function(a,b){return this.getChildBy(function(b){return b.get("id")===a},b)},getChildBy:function(a,b){return this.getChildrenBy(a,b)[0]||null},getAppendHeight:function(){var a=this.get("el");return a.outerHeight()-a.height()},getAppendWidth:function(){var a=this.get("el");return a.outerWidth()-a.width()},getChildrenBy:function(a,b){var c=this,d=[];return a?(c.eachChild(function(c){a(c)?d.push(c):b&&(d=d.concat(c.getChildrenBy(a,b)))}),d):d},eachChild:function(a){BUI.each(this.get("children"),a)},handleDblClick:function(a){this.performActionInternal(a),this.isChildrenElement(a.target)||this.fire("dblclick",{domTarget:a.target,domEvent:a})},handleMouseOver:function(a){var b=this,c=b.get("el");g(a,c)||b.handleMouseEnter(a)},handleMouseOut:function(a){var b=this,c=b.get("el");g(a,c)||b.handleMouseLeave(a)},handleMouseEnter:function(a){var b=this;this.set("highlighted",!!a),b.fire("mouseenter",{domTarget:a.target,domEvent:a})},handleMouseLeave:function(a){var b=this;b.set("active",!1),b.set("highlighted",!a),b.fire("mouseleave",{domTarget:a.target,domEvent:a})},handleMouseDown:function(a){var b,c,d=this,e=1===a.which;e&&(c=d.getKeyEventTarget(),d.get("activeable")&&d.set("active",!0),d.get("focusable")&&(c[0].focus(),d.set("focused",!0)),d.get("allowTextSelection")||(b=a.target.nodeName,b=b&&b.toLowerCase(),"input"!==b&&"textarea"!==b&&a.preventDefault()),d.isChildrenElement(a.target)||d.fire("mousedown",{domTarget:a.target,domEvent:a}))},handleMouseUp:function(a){var b=this,c=b.isChildrenElement(a.target);b.get("active")&&1===a.which&&(b.performActionInternal(a),b.set("active",!1),c||b.fire("click",{domTarget:a.target,domEvent:a})),c||b.fire("mouseup",{domTarget:a.target,domEvent:a})},handleContextMenu:function(){},handleFocus:function(a){this.set("focused",!!a),this.fire("focus",{domEvent:a,domTarget:a.target})},handleBlur:function(a){this.set("focused",!a),this.fire("blur",{domEvent:a,domTarget:a.target})},handleKeyEventInternal:function(a){var b=this,c=b.isChildrenElement(a.target);return 13===a.which?(c||b.fire("click",{domTarget:a.target,domEvent:a}),this.performActionInternal(a)):(c||b.fire("keydown",{domTarget:a.target,domEvent:a}),void 0)},handleKeydown:function(a){var b=this;return b.handleKeyEventInternal(a)?(a.halt(),!0):void 0},handleKeyUp:function(a){var b=this;b.isChildrenElement(a.target)||b.fire("keyup",{domTarget:a.target,domEvent:a})},performActionInternal:function(){},destructor:function(){var a,b,c=this,d=c.get("children");for(a=c.get("id"),b=0;b<d.length;b++)d[b].destroy&&d[b].destroy();c.get("view").destroy(),i.removeComponent(a)}},{ATTRS:{content:{view:1},elTagName:{view:!0,value:"div"},defaultChildClass:{},xtype:{},id:{view:!0},width:{view:1},height:{view:1},elCls:{view:1},elStyle:{view:1},elAttrs:{view:1},elBefore:{view:1},el:{view:1},events:{value:{click:!0,dblclick:!0,mouseenter:!0,mouseleave:!0,keydown:!0,keyup:!0,focus:!1,blur:!1,mousedown:!0,mouseup:!0,show:!1,hide:!1}},render:{view:1},role:{view:1},statusCls:{view:!0,value:{}},visibleMode:{view:1,value:"display"},visible:{value:!0,view:1},handleMouseEvents:{value:!0},focusable:{value:!1,view:1},defaultLoaderCfg:{value:{property:"content",autoLoad:!0}},loader:{getter:function(a){var b,c=this;return a&&!a.isLoader&&(a.target=c,b=c.get("defaultLoaderCfg"),a=new k(BUI.merge(b,a)),c.setInternal("loader",a)),a}},allowTextSelection:{value:!0},activeable:{value:!0},focused:{view:1},active:{view:1},highlighted:{view:1},children:{sync:!1,value:[]},prefixCls:{value:BUI.prefix,view:1},parent:{setter:function(a){this.addTarget(a)}},disabled:{view:1,value:!1},xview:{value:j}},PARSER:{visible:function(a){var b=this,c=a.css("display"),d=a.css("visibility"),e=b.get("visibleMode");return"none"==c&&"display"==e||"hidden"==d&&"visibility"==e?!1:!0}}},{xclass:"controller",priority:0});return n}),define("bui/cookie",function(){function a(a){return"string"==typeof a&&""!==a}var b=document,c=864e5,d=encodeURIComponent,e=decodeURIComponent,f={get:function(c){var d,f;return a(c)&&(f=String(b.cookie).match(new RegExp("(?:^| )"+c+"(?:(?:=([^;]*))|;|$)")))&&(d=f[1]?e(f[1]):""),d},set:function(e,f,g,h,i,j){var k=String(d(f)),l=g;"number"==typeof l&&(l=new Date,l.setTime(l.getTime()+g*c)),l instanceof Date&&(k+="; expires="+l.toUTCString()),a(h)&&(k+="; domain="+h),a(i)&&(k+="; path="+i),j&&(k+="; secure"),b.cookie=e+"="+k},remove:function(a,b,c,d){this.set(a,"",-1,b,c,d)}};return BUI.Cookie=f,f}),BUI.use(["bui/common","bui/cookie"]);